{"name":"Underscore-fire","tagline":"Fires multiple asynchronous functions with a single callback.","body":"This underscore add-on was written to allow you to fire multiple functions at the same time and get a single callback when they are all completed. There is no reliance on the DOM, so you can use it in the browser or in Node.\r\n\r\nPlease note that there is currently no support for chaining function calls and that all of the functions will be fired at the same time.\r\n\r\nThe only hard dependency is [underscore](https://github.com/documentcloud/underscore) or [lodash](https://github.com/bestiejs/lodash).\r\n\r\n## API\r\n\r\nWhile the _.fire method is very powerful, it only has three parameters:\r\n\r\n#### _.fire( array [functions to fire], function [callback], function or array [filter], context );\r\n\r\nThe functions to fire will each be called by passing in any data from the optional filter parameter. Once all of the functions have been completed, the callback function will fire with an array of all of the results from the functions as its only parameter.\r\n\r\nMaybe a few examples would be helpful...\r\n\r\n## Examples\r\n\r\n### Firing a single function\r\n\r\nYou'd probably never need to fire a single function with Underscore-Fire, but this is how you would do it.\r\n\r\n```javascript\r\nvar fns = function () {\r\n    return \"hello world\";\r\n};\r\n\r\n_.fire( fns, function (data) {\r\n    // [\"hello world\"];\r\n    console.log(data);\r\n});\r\n```\r\n\r\n### Firing multiple functions\r\n\r\nWe can fire multiple functions. Once they are all fired, the callback will contain an array of all three results.\r\n\r\n```javascript\r\nvar fns = [function () {\r\n    return \"hello world\";\r\n}, function () {\r\n    return \"hello moon\";\r\n}, function () {\r\n    return \"hello sun\";\r\n}];\r\n\r\n_.fire( fns, function (data) {\r\n    // [\"hello world\", \"hello moon\", \"hello sun\"];\r\n    console.log(data);\r\n});\r\n```\r\n\r\n### Asynchronous callbacks\r\n\r\nEvery function has a \"done\" function as its first parameter. Instead of using return, you can fire the done function when you are ready. This is useful for timeouts, ajax calls and asynchronous node processes. Note that even though the third function will complete before the first function, the results are still returned in the order the functions are added to the array.\r\n\r\n```javascript\r\nvar fns = [function (done) {\r\n    setTimeout(function () {\r\n       done(\"hello world\");\r\n    }, 2000);\r\n}, function (done) {\r\n    setTimeout(function () {\r\n       done(\"hello moon\");\r\n    }, 1500);\r\n}, function (done) {\r\n    setTimeout(function () {\r\n       done(\"hello sun\");\r\n    }, 1000);\r\n}];\r\n\r\n_.fire( fns, function (data) {\r\n    // [\"hello world\", \"hello moon\", \"hello sun\"];\r\n    console.log(data);\r\n});\r\n```\r\n\r\n### Passing in parameters\r\n\r\nEvery function has a \"done\" function as its first parameter. Instead of using return, you can fire the done function when you are ready. This is useful for timeouts, ajax calls and asynchronous node processes. Note that even though the third function will complete before the first function, the results are still returned in the order the functions are added to the array. You can pass up to 15 parameters into the filter array.\r\n\r\n```javascript\r\nvar fns = [function (done, hello, exclamation) {\r\n    return hello + \" world\" + exclamation;\r\n\r\n}, function (done, hello, exclamation) {\r\n    return hello + \" moon\" + exclamation;\r\n\r\n}, function (done, hello, exclamation) {\r\n    return hello + \" sun\" + exclamation;\r\n}];\r\n\r\n_.fire( fns, function (data) {\r\n\r\n    // [\"hello world!\", \"hello moon!\", \"hello sun!\"];\r\n    console.log(data);\r\n\r\n}, [\"hello\", \"!\"]);\r\n```\r\n\r\n### Passing in different parameters for each function\r\n\r\nIf you provide an array of filters, each one will be applied to the function with the same index.\r\n\r\n```javascript\r\nvar fns = [function (done, hello) {\r\n    return hello;\r\n\r\n}, function (done, hello) {\r\n    return hello;\r\n    \r\n}, function (done, hello) {\r\n    return hello;\r\n}];\r\n\r\nvar filters = [\r\n  [\"hello world\"],\r\n  [\"hello moon\"],\r\n  [\"hello sun\"]\r\n];\r\n\r\n_.fire( fns, function (data) {\r\n\r\n    // [\"hello world\", \"hello moon\", \"hello sun\"];\r\n    console.log(data);\r\n\r\n}, filters);\r\n```\r\n\r\n### Passing the filters as a function\r\n\r\nYou can use a function for the filters instead of an array. The function will include a \"done\" function to use as a callback and the index of the function being called.\r\n\r\n```javascript\r\nvar fns = [function (done, hello) {\r\n    return hello;\r\n\r\n}, function (done, hello) {\r\n    return hello;\r\n    \r\n}, function (done, hello) {\r\n    return hello;\r\n}];\r\n\r\nvar filters = function (done, index) {\r\n  switch(index) {\r\n    \r\n    case 0:\r\n      done(\"hello world\");\r\n      break;\r\n\r\n    case 1:\r\n      done(\"hello moon\");\r\n      break;\r\n    \r\n    case 2:\r\n      done(\"hello sun\");\r\n      break;\r\n  }\r\n};\r\n\r\n_.fire( fns, function (data) {\r\n\r\n    // [\"hello world\", \"hello moon\", \"hello sun\"];\r\n    console.log(data);\r\n\r\n}, filters);\r\n```\r\n\r\n### Setting the context\r\n\r\nYou can pass the context for the functions and the callback as the fourth parameter in the _.fire() function. If the context is passed in, \"this\" will refer to the context you have provided.\r\n\r\n```javascript\r\nvar fns = [function () {\r\n\r\n    // true\r\n    console.log(this.isRightContext);\r\n    return true;\r\n}];\r\n\r\nvar Context = function () {\r\n\r\n    this.isRightContext = true;\r\n\r\n    this.fire = function () {\r\n\r\n        _.fire( fns, function (data) {\r\n            \r\n            // true\r\n            console.log(this.isRightContext);\r\n            \r\n        }, [], this);\r\n        \r\n    };\r\n\r\n};\r\n\r\nvar context = new Context();\r\ncontext.fire();\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}